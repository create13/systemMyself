webpackJsonp([13],{RnuZ:function(t,e){},btJm:function(t,e){},"gq+L":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),s=a.n(o),n=a("BO1k"),i=a.n(n),r=a("woOf"),l=a.n(r),c={name:"logistics",data:function(){var t=this;return{value1:"",myColor:"",receptInfo:null,stateChange:null,paramsDatas:{myColor:"",loadingSearch:!1},popShow:!1,editShow:!1,resetShow:!1,getDatas:this.$store.getters.getTabs,loadingSearch:!1,popTitle:"",stateName:"启用",companySet:[{lables:"区域公司名称",models:"",spans:4,types:"input"},{lables:"查询",spans:5,types:"button"}],formValidate:{companyName:"",companyStatus:!0,companyCode:"",contacts:"",contactsTel:"",officeAddress:"",sendTel:"",arrivalTel:"",companyTel:""},editDatas:[],classSet:"single-forms",formData:[{formType:"input",lables:"区域物流公司名称",props:"companyName",modelData:"",types:"text"},{formType:"switch",lables:"区域物流公司状态",props:"companyStatus",modelData:!0},{formType:"input",lables:"组织代码",props:"companyCode",modelData:"",types:"text"},{formType:"input",lables:"联系人",props:"contacts",modelData:"",types:"text"},{formType:"input",lables:"联系电话",props:"contactsTel",modelData:"",types:"text"},{formType:"input",lables:"详细地址",props:"officeAddress",modelData:"",types:"text"},{formType:"input",lables:"发货查询电话",props:"sendTel",modelData:"",types:"text"},{formType:"input",lables:"到货查询电话",props:"arrivalTel",modelData:"",types:"text"},{formType:"input",lables:"公司电话",props:"companyTel",modelData:"",types:"text"}],ruleValidate:{companyName:[{required:!0,message:"请输入区域物流公司名称",trigger:"blur"}],companyCode:[{required:!0,message:"请输入组织代码",trigger:"blur"}],contacts:[{required:!0,message:"请输入联系人",trigger:"blur"}],contactsTel:[{required:!0,message:"请输入联系电话",trigger:"blur"}]},resetPass:{password:"",newPass:"",surePass:""},allocateName:"",editform:{},formBackups:null,columnsTable:[{type:"index",width:60,align:"center"},{title:"操作",key:"opration",align:"center",width:123,render:function(e,a){return e("div",[e("a",{props:{size:"small"},style:{marginRight:"6px",color:"#108CEE",textDecoration:"underline"},on:{click:function(){t.show(a.index)}}},"冻结"),e("a",{props:{size:"small"},style:{marginRight:"-5px",color:"#108CEE",textDecoration:"underline"},on:{click:function(){t.show(a.index)}}},"查看明细")])}},{title:"区域物流公司名称",key:"companyName"},{title:"区域物流公司状态",key:"companyStatus"},{title:"组织代码",key:"companyCode"},{title:"联系人",key:"contacts"},{title:"联系电话",key:"contactsTel"},{title:"详细地址",key:"officeAddress"},{title:"发货查询电话",key:"sendTel"},{title:"到货查询电话",key:"arrivalTel"},{title:"公司电话",key:"companyTel"}],tableData:[],pages:1,sizes:10}},components:{},computed:{},watch:{},mounted:function(){this.getList()},methods:{search:function(){},refresh:function(){},nowStatus:function(){},editData:function(t){t&&(this.editform=l()({},t),"启用"===this.editform.companyStatus?this.editform.companyStatus=!0:this.editform.companyStatus=!1)},blurData:function(t){var e=!0,a=!1,o=void 0;try{for(var s,n=i()(this.formData);!(e=(s=n.next()).done);e=!0){var r=s.value;this.formValidate[r.props]=t}}catch(t){a=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw o}}},changeStatus:function(t){!0===t?(this.stateName="启用",this.formValidate.status=!0):(this.stateName="不启用",this.formValidate.status=!1)},searchInfo:function(){var t=this,e=!0,a=!1,o=void 0;try{for(var n,r=i()(this.companySet);!(e=(n=r.next()).done);e=!0){var l=n.value;"input"===l.types&&"区域公司名称"===l.lables&&(this.allocateName=l.models)}}catch(t){a=!0,o=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw o}}var c={companyId:this.$store.getters.getInfo.companyId,filters:s()({companyName:this.allocateName})};this.$service.http.post("winpie/api/companyByPid",c,"post").then(function(e){t.tableData=JSON.parse(e.result)}).catch(function(e){console.log(e),t.$Message.error(e.msg)})},colorChange:function(t){this.paramsDatas.myColor=t},resetColor:function(){this.paramsDatas.myColor=""},toLoadings:function(){this.$refs.table.exportCsv({filename:"表格数据"})},pageChange:function(t){this.pages=t,this.getList()},newCreate:function(t,e){if(this.popTitle=e,"新增"===e){var a=!0,o=!1,n=void 0;try{for(var r,l=i()(this.formData);!(a=(r=l.next()).done);a=!0){var c=r.value;"switch"===c.formType?c.modelData=!0:c.modelData=""}}catch(t){o=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw n}}this.popShow=!this.popShow,this.formBackups=JSON.parse(s()(this.formData))}else if("修改"===e)if(this.editDatas=this.formData,this.editform.companyId){var m=!0,p=!1,d=void 0;try{for(var f,h=i()(this.editDatas);!(m=(f=h.next()).done);m=!0){var u=f.value;u.modelData=this.editform[u.props]}}catch(t){p=!0,d=t}finally{try{!m&&h.return&&h.return()}finally{if(p)throw d}}this.editShow=!this.editShow}else this.$Message.error("请选中要修改的行");else"删除"===e&&(this.editform.companyId?(this.delCompany(),this.editform.companyId=null):this.$Message.error("请选中要删除的行"))},getList:function(){var t=this,e={page:this.pages,rows:this.sizes,companyId:this.$store.getters.getInfo.companyId,filters:s()({companyName:null,companyTags:4})};this.$service.http.post("winpie/api/companyByPid",e,"post").then(function(e){t.tableData=null,t.tableData=JSON.parse(e.result),console.log(t.tableData);var a=!0,o=!1,s=void 0;try{for(var n,r=i()(t.tableData);!(a=(n=r.next()).done);a=!0){var l=n.value;1===l.companyStatus?l.companyStatus="启用":l.companyStatus="不启用"}}catch(t){o=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw s}}}).catch(function(t){console.log(t)})},companySubmit:function(t){var e=this,a=!0,o=!1,s=void 0;try{for(var n,r=i()(this.formData);!(a=(n=r.next()).done);a=!0){var l=n.value;this.formValidate[l.props]=l.modelData}}catch(t){o=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw s}}this.$refs[t].validate(function(a){if(a){!0===e.formValidate.companyStatus?e.stateChange=1:e.stateChange=0;var o={companyPId:e.$store.getters.getInfo.companyId,companyTags:4,companyName:e.formValidate.companyName,companyStatus:e.stateChange,companyCode:e.formValidate.companyCode,contacts:e.formValidate.contacts,contactsTel:e.formValidate.contactsTel,officeAddress:e.formValidate.officeAddress,sendTel:e.formValidate.sendTel,arrivalTel:e.formValidate.arrivalTel,companyTel:e.formValidate.companyTel};e.$service.http.post("winpie/api/addCompany",o,"post").then(function(a){e.popShow=!1,e.$Message.success("新增成功"),e.$refs[t].resetFields(),e.formData=[],e.formData=e.formBackups,e.getList()}).catch(function(t){console.log(t),e.$Message.error(t.msg)})}})},companyReset:function(){this.popShow=!1},editSubmit:function(){var t=this,e=!0,a=!1,o=void 0;try{for(var s,n=i()(this.editDatas);!(e=(s=n.next()).done);e=!0){var r=s.value;this.editform[r.props]=r.modelData}}catch(t){a=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw o}}"启用"===this.editform.companyStatus?(this.editform.companyStatus=!0,this.stateChange=1):(this.editform.companyStatus=!1,this.stateChange=0);var l={companyId:this.editform.companyId,companyName:this.editform.companyName,companyStatus:this.stateChange,companyCode:this.editform.companyCode,contacts:this.editform.contacts,contactsTel:this.editform.contactsTel,officeAddress:this.editform.officeAddress,sendTel:this.editform.sendTel,arrivalTel:this.editform.arrivalTel,companyTel:this.editform.companyTel};this.$service.http.post("winpie/api/UpdateCompany",l,"post").then(function(e){t.editShow=!1,t.$Message.success("修改成功"),t.editform.companyId=null,t.getList()}).catch(function(e){console.log(e),t.$Message.error(e.msg)})},cancleEdit:function(){this.editShow=!1},delCompany:function(){var t=this,e={companyId:this.editform.companyId};this.$service.http.post("winpie/api/delCompany",e,"post").then(function(e){t.$Message.success("删除成功"),t.getList()}).catch(function(e){console.log(e),t.$Message.error(e.msg)})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"manage-set"},[a("div",{staticClass:"center-content"},[a("div",{staticClass:"input-search"},[a("con-inputs",{attrs:{setInput:t.companySet,paramsData:t.paramsDatas},on:{changeColor:t.colorChange,resetColor:t.resetColor,searchTable:t.searchInfo}})],1),t._v(" "),a("div",{staticClass:"input-search row-set"},[a("Row",{attrs:{gutter:20}},[a("i-col",{attrs:{span:"24"}},[a("Button",{attrs:{type:"primary",loading:t.loadingSearch,icon:"android-exit"},on:{click:t.toLoadings}},[t.loadingSearch?a("span",[t._v("Loading...")]):a("span",[t._v("导出")])]),t._v(" "),t._l(t.getDatas,function(e,o){return a("Button",{key:o,on:{click:function(a){t.newCreate(e.menuId,e.name)}}},[t._v(t._s(e.name))])})],2)],1)],1),t._v(" "),a("div",{staticClass:"table-show"},[a("Table",{ref:"table",attrs:{columns:t.columnsTable,data:t.tableData,"highlight-row":"",border:""},on:{"on-current-change":t.editData}}),t._v(" "),a("Page",{attrs:{total:100,"show-elevator":""},on:{"on-change":t.pageChange}})],1)])]),t._v(" "),a("Modal",{attrs:{title:t.popTitle,"class-name":"vertical-center-modal","mask-closable":!1},on:{"on-visible-change":t.nowStatus},model:{value:t.popShow,callback:function(e){t.popShow=e},expression:"popShow"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("con-checkform",{attrs:{formList:t.formData,setClass:t.classSet,stateName:t.stateName},on:{blurEvent:t.blurData,changeStatus:t.changeStatus}}),t._v(" "),a("FormItem",{staticClass:"lay-btn"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.companySubmit("formValidate")}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"40px"},on:{click:function(e){t.companyReset("formValidate")}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:t.popTitle,"class-name":"vertical-center-modal","mask-closable":!1},model:{value:t.editShow,callback:function(e){t.editShow=e},expression:"editShow"}},[a("Form",{ref:"editform",attrs:{model:t.editform,"label-width":80}},[a("con-checkform",{attrs:{formList:t.editDatas,setClass:t.classSet},on:{changeStatus:t.changeStatus}}),t._v(" "),a("FormItem",{staticClass:"lay-btn"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.editSubmit("editform")}}},[t._v("确定")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"4px"},on:{click:t.cancleEdit}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,m,!1,function(t){a("RnuZ"),a("btJm")},"data-v-209b316a",null);e.default=p.exports}});
//# sourceMappingURL=13.54032e117758fe989425.js.map