webpackJsonp([3],{N9Gi:function(t,e){},UXKo:function(t,e){},ZptU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),n=a.n(o),s=a("woOf"),i=a.n(s),r=a("BO1k"),l=a.n(r),c={name:"statement",data:function(){var t=this;return{value1:"",myColor:"",receptInfo:null,stateChange:null,paramsDatas:{myColor:"",loadingSearch:!1},popShow:!1,editShow:!1,resetShow:!1,getDatas:this.$store.getters.getTabs,loadingSearch:!1,popTitle:"",companySets:[{lables:"公司名称",models:"",spans:4,types:"input"},{lables:"查询",spans:5,types:"button"}],formValidate:{companyAName:"",companyBName:"",companyAId:"",companyBId:"",msDay:"",dsTime:""},autoSet:[],typeChange:null,editDatas:[],classSet:"single-forms",monthData:[{formType:"autoComplete",lables:"甲方公司",props:"companyAName",modelData:"",signData:"companyAName",valueShow:!1},{formType:"autoComplete",lables:"乙方公司",props:"companyBName",modelData:"",signData:"companyBName",valueShow:!1},{formType:"time",lables:"签约时间",props:"dsTime",modelData:""}],ruleValidate:{companyAName:[{required:!0,message:"请输入甲方公司",trigger:"blur"}],companyBName:[{required:!0,message:"请输入乙方公司",trigger:"blur"}],dsTime:[{required:!0,type:"string",message:"请输入签约时间",trigger:"change"}]},resetPass:{password:"",newPass:"",surePass:""},allocateName:"",searchName:"",receiveDatas:[],saveDatas:[],editform:{},formBackups:null,columnsTable:[{type:"index",width:60,align:"center"},{title:"操作",key:"opration",align:"center",width:123,render:function(e,a){return e("div",[e("a",{props:{size:"small"},style:{marginRight:"6px",color:"#108CEE",textDecoration:"underline"},on:{click:function(){t.show(a.index)}}},"冻结"),e("a",{props:{size:"small"},style:{marginRight:"-5px",color:"#108CEE",textDecoration:"underline"},on:{click:function(){t.show(a.index)}}},"查看明细")])}},{title:"甲方公司",key:"companyAName"},{title:"乙方公司",key:"companyBName"},{title:"签约日期",key:"msDay"},{title:"签约时间",key:"dsTime"}],tableData:[],pages:1,sizes:10}},components:{},computed:{},watch:{},mounted:function(){this.getMonth()},methods:{search:function(){},refresh:function(){},nowStatus:function(){},setValue:function(t,e,a){"companyAName"===e?(this.formValidate.companyAName=t,this.formValidate.companyAId=a):(this.formValidate.companyBName=t,this.formValidate.companyBId=a);var o=!0,n=!1,s=void 0;try{for(var i,r=l()(this.monthData);!(o=(i=r.next()).done);o=!0){var c=i.value;c.props===e&&(c.modelData=t,c.valueShow=!1)}}catch(t){n=!0,s=t}finally{try{!o&&r.return&&r.return()}finally{if(n)throw s}}},editData:function(t){t&&(this.editform=i()({},t)),console.log(this.editform)},blurData:function(t,e){if("companyAName"===e){var a=!0,o=!1,n=void 0;try{for(var s,i=l()(this.monthData);!(a=(s=i.next()).done);a=!0){var r=s.value;r.props===e&&(r.valueShow=!0)}}catch(t){o=!0,n=t}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}this.searchMatch(t)}else{this.searchMatch(t);var c=!0,m=!1,h=void 0;try{for(var d,p=l()(this.monthData);!(c=(d=p.next()).done);c=!0){var f=d.value;f.props===e&&(f.valueShow=!0)}}catch(t){m=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(m)throw h}}}var u=!0,y=!1,g=void 0;try{for(var v,w=l()(this.monthData);!(u=(v=w.next()).done);u=!0){var D=v.value;this.formValidate[D.props]=D.modelData}}catch(t){y=!0,g=t}finally{try{!u&&w.return&&w.return()}finally{if(y)throw g}}console.log(this.formValidate)},searchInfo:function(){var t=this,e=!0,a=!1,o=void 0;try{for(var n,s=l()(this.companySets);!(e=(n=s.next()).done);e=!0){var i=n.value;console.log(i),"input"===i.types&&"公司名称"===i.lables&&(this.allocateName=i.models),console.log(this.allocateName)}}catch(t){a=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(a)throw o}}var r={companyId:this.$store.getters.getInfo.companyId,companyName:this.allocateName};this.$service.http.post("winpie/msconfig/List",r,"post").then(function(e){t.tableData=e.result}).catch(function(e){console.log(e),t.$Message.error(e.msg)})},colorChange:function(t){this.paramsDatas.myColor=t},resetColor:function(){this.paramsDatas.myColor=""},toLoadings:function(){this.$refs.table.exportCsv({filename:"表格数据"})},pageChange:function(t){this.pages=t,this.getMonth()},newCreate:function(t,e){if(this.popTitle=e,"新增"===e){var a=!0,o=!1,s=void 0;try{for(var i,r=l()(this.monthData);!(a=(i=r.next()).done);a=!0){i.value.modelData=""}}catch(t){o=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw s}}this.popShow=!this.popShow,this.formBackups=JSON.parse(n()(this.monthData))}else if("修改"===e)if(this.editDatas=this.monthData,this.editform.companyAId&&this.editform.companyBId){var c=!0,m=!1,h=void 0;try{for(var d,p=l()(this.editDatas);!(c=(d=p.next()).done);c=!0){var f=d.value;f.modelData=this.editform[f.props]}}catch(t){m=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(m)throw h}}this.editShow=!this.editShow}else this.$Message.error("请选中要修改的行");else"删除"===e&&(this.editform.companyAId&&this.editform.companyBId?(this.delCompany(),this.editform.companyAId=null,this.editform.companyBId=null):this.$Message.error("请选中要删除的行"))},getMonth:function(){var t=this,e={page:this.pages,rows:this.sizes,companyId:this.$store.getters.getInfo.companyId};this.$service.http.post("winpie/msconfig/List",e,"post").then(function(e){t.tableData=null,t.tableData=e.result}).catch(function(t){console.log(t)})},monthSubmit:function(t){var e=this,a=!0,o=!1,n=void 0;try{for(var s,i=l()(this.monthData);!(a=(s=i.next()).done);a=!0){var r=s.value;this.formValidate[r.props]=r.modelData}}catch(t){o=!0,n=t}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}console.log(this.formValidate),this.$refs[t].validate(function(a){if(a){var o={companyAName:e.formValidate.companyAName,companyBName:e.formValidate.companyBName,companyAId:e.formValidate.companyAId,companyBId:e.formValidate.companyBId,dsTime:e.formValidate.dsTime,hubCid:e.$store.getters.getInfo.companyId};e.$service.http.post("winpie/msconfig/addupdate",o,"post").then(function(a){console.log(a),e.popShow=!1,e.$Message.success("新增成功"),e.$refs[t].resetFields(),e.monthData=[],e.monthData=e.formBackups,e.getMonth()}).catch(function(t){console.log(t),e.$Message.error(t.msg)})}})},searchMatch:function(t){var e=this,a={companyId:this.$store.getters.getInfo.companyId,filters:n()({companyName:t||this.searchName})};this.$service.http.post("winpie/api/companyByPid",a,"post").then(function(t){e.autoSet=JSON.parse(t.result),console.log(e.autoSet)}).catch(function(t){console.log(t),e.$Message.error(t.msg)})},companyReset:function(){this.popShow=!1},editSubmit:function(){var t=this,e=!0,a=!1,o=void 0;try{for(var n,s=l()(this.editDatas);!(e=(n=s.next()).done);e=!0){var i=n.value;this.editform[i.props]=i.modelData}}catch(t){a=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(a)throw o}}var r={msconfigId:this.editform.msconfigId,companyAName:this.editform.companyAName,companyBName:this.editform.companyBName,companyAId:this.editform.companyAId,companyBId:this.editform.companyBId,dsTime:this.editform.dsTime,hubCid:this.$store.getters.getInfo.companyId};this.$service.http.post("winpie/msconfig/addupdate",r,"post").then(function(e){t.editShow=!1,t.$Message.success("修改成功"),t.getMonth(),t.editform.companyAId=null,t.editform.companyBId=null}).catch(function(e){console.log(e),t.$Message.error(e.msg)})},cancleEdit:function(){this.editShow=!1},delCompany:function(){var t=this,e={msconfigId:this.editform.msconfigId};this.$service.http.post("winpie/msconfig/delete",e,"post").then(function(e){t.$Message.success("删除成功"),t.getMonth()}).catch(function(e){console.log(e),t.$Message.error(e.msg)})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"manage-set"},[a("div",{staticClass:"center-content"},[a("div",{staticClass:"input-search"},[a("con-inputs",{attrs:{setInput:t.companySets,paramsData:t.paramsDatas},on:{changeColor:t.colorChange,resetColor:t.resetColor,searchTable:t.searchInfo}})],1),t._v(" "),a("div",{staticClass:"input-search row-set"},[a("Row",{attrs:{gutter:20}},[a("i-col",{attrs:{span:"24"}},[a("Button",{attrs:{type:"primary",loading:t.loadingSearch,icon:"android-exit"},on:{click:t.toLoadings}},[t.loadingSearch?a("span",[t._v("Loading...")]):a("span",[t._v("导出")])]),t._v(" "),t._l(t.getDatas,function(e,o){return a("Button",{key:o,on:{click:function(a){t.newCreate(e.menuId,e.name)}}},[t._v(t._s(e.name))])})],2)],1)],1),t._v(" "),a("div",{staticClass:"table-show"},[a("Table",{ref:"table",attrs:{columns:t.columnsTable,data:t.tableData,"highlight-row":"",border:""},on:{"on-current-change":t.editData}}),t._v(" "),a("Page",{attrs:{total:100,"show-elevator":""},on:{"on-change":t.pageChange}})],1)])]),t._v(" "),a("Modal",{attrs:{title:t.popTitle,"class-name":"vertical-center-modal","mask-closable":!1},on:{"on-visible-change":t.nowStatus},model:{value:t.popShow,callback:function(e){t.popShow=e},expression:"popShow"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("con-checkform",{attrs:{formList:t.monthData,setClass:t.classSet,autoData:t.autoSet},on:{blurSign:t.blurData,setValue:t.setValue}}),t._v(" "),a("FormItem",{staticClass:"lay-btn"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.monthSubmit("formValidate")}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"40px"},on:{click:function(e){t.companyReset("formValidate")}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:t.popTitle,"class-name":"vertical-center-modal","mask-closable":!1},model:{value:t.editShow,callback:function(e){t.editShow=e},expression:"editShow"}},[a("Form",{ref:"editform",attrs:{model:t.editform,"label-width":80}},[a("con-checkform",{attrs:{formList:t.editDatas,setClass:t.classSet,autoData:t.autoSet},on:{blurSign:t.blurData,setValue:t.setValue}}),t._v(" "),a("FormItem",{staticClass:"lay-btn"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.editSubmit("editform")}}},[t._v("确定")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"4px"},on:{click:t.cancleEdit}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(c,m,!1,function(t){a("UXKo"),a("N9Gi")},"data-v-f2e70f24",null);e.default=h.exports}});
//# sourceMappingURL=3.aedf40879c358a62c48f.js.map